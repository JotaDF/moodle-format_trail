function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("format_trail/tooltip",["jquery","core/log"],function(a,b){"use strict";function c(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b){if(a.style[c]!==void 0){return{end:b[c]}}}return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){if(!c){a(d).trigger(a.support.transition.end)}};setTimeout(e,b);return this};a(function(){a.support.transition=c();if(!a.support.transition){return}a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function handle(b){if(a(b.target).is(this)){return b.handleObj.handler.apply(this,arguments)}}}});var d=function(a,b){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("trailtooltip",a,b)};d.VERSION="3.3.7";d.TRANSITION_DURATION=150;d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:"<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>",trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};d.prototype.init=function(b,c,d){this.enabled=!0;this.type=b;this.$element=a(c);this.options=this.getOptions(d);this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:!1,hover:!1,focus:!1};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var e=this.options.trigger.split(" "),f=e.length,g;f--;){g=e[f];if("click"==g){this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this))}else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",j="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(j+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}if(this.options.selector){this._options=a.extend({},this.options,{trigger:"manual",selector:""})}else{this.fixTitle()}};d.prototype.getDefaults=function(){return d.DEFAULTS};d.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);if(b.delay&&"number"==typeof b.delay){b.delay={show:b.delay,hide:b.delay}}return b};d.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();if(this._options){a.each(this._options,function(a,d){if(c[a]!=d){b[a]=d}})}return b};d.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(!c){c=new this.constructor(b.currentTarget,this.getDelegateOptions());a(b.currentTarget).data("bs."+this.type,c)}if(b instanceof a.Event){c.inState["focusin"==b.type?"focus":"hover"]=!0}if(c.tip().hasClass("in")||"in"==c.hoverState){c.hoverState="in";return}clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show){return c.show()}c.timeout=setTimeout(function(){if("in"==c.hoverState){c.show()}},c.options.delay.show)};d.prototype.isInStateTrue=function(){for(var a in this.inState){if(this.inState[a]){return!0}}return!1};d.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(!c){c=new this.constructor(b.currentTarget,this.getDelegateOptions());a(b.currentTarget).data("bs."+this.type,c)}if(b instanceof a.Event){c.inState["focusout"==b.type?"focus":"hover"]=!1}if(c.isInStateTrue()){return}clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide){return c.hide()}c.timeout=setTimeout(function(){if("out"==c.hoverState){c.hide()}},c.options.delay.hide)};d.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c){return}var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent();f.attr("id",g);this.$element.attr("aria-describedby",g);if(this.options.animation){f.addClass("fade")}var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);if(j){h=h.replace(i,"")||"top"}f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this);if(this.options.container){f.appendTo(this.options.container)}else{f.insertAfter(this.$element)}this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h;f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type);e.hoverState=null;if("out"==a){e.leave(e)}};if(a.support.transition&&this.$tip.hasClass("fade")){f.one("bsTransitionEnd",q).emulateTransitionEnd(d.TRANSITION_DURATION)}else{q()}}};d.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);if(isNaN(g)){g=0}if(isNaN(h)){h=0}b.top+=g;b.left+=h;a.offset.setOffset(d[0],a.extend({using:function using(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==c&&j!=f){b.top=b.top+f-j}var k=this.getViewportAdjustedDelta(c,b,i,j);if(k.left){b.left+=k.left}else{b.top+=k.top}var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b);this.replaceArrow(m,d[0][n],l)};d.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")};d.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};d.prototype.hide=function(b){var f=this,g=a(this.$tip),h=a.Event("hide.bs."+this.type);function c(){if("in"!=f.hoverState){g.detach()}if(f.$element){f.$element.removeAttr("aria-describedby").trigger("hidden.bs."+f.type)}if(b){b()}}this.$element.trigger(h);if(h.isDefaultPrevented()){return}g.removeClass("in");if(a.support.transition&&g.hasClass("fade")){g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION)}else{c()}this.hoverState=null;return this};d.prototype.fixTitle=function(){var a=this.$element;if(a.attr("title")||"string"!=typeof a.attr("data-original-title")){a.attr("data-original-title",a.attr("title")||"").attr("title","")}};d.prototype.hasContent=function(){return this.getTitle()};d.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();if(null===e.width){e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top})}var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)};d.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}};d.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport){return e}var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;if(h<g.top){e.top=g.top-h}else if(i>g.top+g.height){e.top=g.top+g.height-i}}else{var j=b.left-f,k=b.left+f+c;if(j<g.left){e.left=g.left-j}else if(k>g.right){e.left=g.left+g.width-k}}return e};d.prototype.getTitle=function(){var a,b=this.$element,c=this.options;a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title);return a};d.prototype.getUID=function(a){do{a+=Math.floor(1e6*Math.random())}while(document.getElementById(a));return a};d.prototype.tip=function(){if(!this.$tip){this.$tip=a(this.options.template);if(1!=this.$tip.length){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};d.prototype.enable=function(){this.enabled=!0};d.prototype.disable=function(){this.enabled=!1};d.prototype.toggleEnabled=function(){this.enabled=!this.enabled};d.prototype.toggle=function(b){var c=this;if(b){c=a(b.currentTarget).data("bs."+this.type);if(!c){c=new this.constructor(b.currentTarget,this.getDelegateOptions());a(b.currentTarget).data("bs."+this.type,c)}}if(b){c.inState.click=!c.inState.click;if(c.isInStateTrue()){c.enter(c)}else{c.leave(c)}}else{if(c.tip().hasClass("in")){c.leave(c)}else{c.enter(c)}}};d.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type);if(a.$tip){a.$tip.detach()}a.$tip=null;a.$arrow=null;a.$viewport=null;a.$element=null})};var e=a.fn.trailtooltip;a.fn.trailtooltip=function(b){return this.each(function(){var c=a(this),e=c.data("bs.trailtooltip"),f="object"==_typeof(b)&&b;if(!e&&/destroy|hide/.test(b)){return}if(!e){c.data("bs.trailtooltip",e=new d(this,f))}if("string"==typeof b){e[b]()}})};a.fn.trailtooltip.Constructor=d;a.fn.trailtooltip.noConflict=function(){a.fn.trailtooltip=e;return this};b.debug("Trail Format AMD");return{init:function init(){a(document).ready(function(a){a("[data-toggle=trailtooltip]").trailtooltip()});b.debug("Trail Format AMD init")}}});
//# sourceMappingURL=tooltip.min.js.map
